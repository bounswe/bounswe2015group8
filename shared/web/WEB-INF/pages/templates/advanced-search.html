<div class="modal fade" id="search_modal" role="dialog">
    <div class="modal-dialog" id="search_dialog">
        <div class="modal-content" id="search_content">
            <div class="modal-header">
                <button type="button" id="modal_close" class="close" data-dismiss="modal">&times;</button>
                <h4 id="modal_title" class="modal-title" style="color: #449d44">Advanced Search
                    <select class="btn btn-warning" id="searchType" style="float:right; margin-right:2%;">
                        <option value="post">POST</option>
                        <option value="heritage">HERITAGE</option>
                    </select>
                </h4>
            </div>
            <div class="modal-body">
                <form enctype="multipart/form-data" method="POST" action="${contextPath}/advancedSearch">
                    <input name="searchType" id="searchTypeHiddenField" type="hidden" value="POST"/>
                    <table class="table table-banded no-margin">
                        <tbody>
                        <tr>
                            <th style="width:25%;">Created After</th>
                            <td style="width:25%;">
                                <div class="form-group">
                                    <div class='input-group date' id='datetimepicker_created_after'>
                                        <input data-date-format="YYYY-MM-DD" id="date_created_after" name="beginPostDate" type='text' class="form-control datepicker" />
                                                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
                                                            </span>
                                    </div>
                                </div>
                            </td>
                            <th style="width:25%;">Created Before</th>
                            <td style="width:25%;">
                                <div class="form-group">
                                    <div class='input-group date' id='datetimepicker_created_before'>
                                        <input data-date-format="YYYY-MM-DD" id="date_created_before" name="endPostDate" type='text' class="form-control datepicker"  />
                                                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
                                                            </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr class="post_only_fields">
                            <th style="width:25%;">Edited After</th>
                            <td style="width:25%;">
                                <div class="form-group">
                                    <div class='input-group date' id='datetimepicker_edited_after'>
                                        <input data-date-format="YYYY-MM-DD" id="date_edited_after" name="beginEditDate" type='text' class="form-control datepicker" />
                                                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
                                                            </span>
                                    </div>
                                </div>
                            </td>
                            <th style="width:25%;">Edited Before</th>
                            <td style="width:25%;">
                                <div class="form-group">
                                    <div class='input-group date' id='datetimepicker_edited_before'>
                                        <input data-date-format="YYYY-MM-DD" id="date_edited_before" name="endEditDate" type='text' class="form-control datepicker" />
                                                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
                                                            </span>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <th style="width:25%;">Title Includes</th>
                            <td style="width:25%;">
                                <input class="form-control" style="width:100%;" id="title" name="title" type="text" />
                            </td>
                            <th style="width:25%;">Content Includes</th>
                            <td style="width:25%;">
                                <input class="form-control" style="width:100%;" id="content" name="content" type="text" />
                            </td>
                        </tr>
                        <tr>
                            <th class="post_only_fields" style="width:25%;">By User</th>
                            <td class="post_only_fields"  style="width:25%;">
                                <input class="numberOnly form-control" style="width:100%;" id="ownerName" name="ownerName" type="text"/>
                            </td>
                            <th style="width:25%;"></th>
                            <td>
                                <button style="float:right;" class="btn btn-info" type="submit">Search <span class="glyphicon glyphicon-search"></span></button>
                            </td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function(){
        $("#date_created_after").datetimepicker();
        $("#date_created_before").datetimepicker();
        $("#date_edited_after").datetimepicker();
        $("#date_edited_before").datetimepicker();

        $("span .input-group-addon").click(function(){
           $(this).parent().click();
        });

        $("#searchType").change(function(){
           if($(this).val() == 'heritage'){
               $(".post_only_fields").css('visibility', 'hidden');
               $("tr.post_only_fields").css('display', 'none');
               $("#searchTypeHiddenField").val('HERITAGE');
           }
           else{
               $(".post_only_fields").css('visibility', 'visible');
               $("tr.post_only_fields").css('display', '');
               $("#searchTypeHiddenField").val('POST');
           }
        });
    });
</script>